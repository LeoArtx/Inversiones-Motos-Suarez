<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmación y Pago - Inversiones Moto Suarez</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Bank Recipient Info Styles */
        .bank-recipient-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #27ae60;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .bank-recipient-info h4 {
            color: #27ae60;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .recipient-details {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .recipient-details p {
            margin: 0.5rem 0;
            color: #2c3e50;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .recipient-details p i {
            color: #27ae60;
            width: 20px;
            text-align: center;
        }

        .recipient-details strong {
            color: #2c3e50;
        }

        @media (max-width: 576px) {
            .bank-recipient-info {
                padding: 1rem;
            }

            .recipient-details p {
                font-size: 0.9rem;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="logo-container">
            <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo Moto Suárez" class="logo">
            <h1>Inversiones Moto Suarez</h1>
        </div>
        <a href="/login" id="auth-link" class="nav-link auth-link">
            <i class="fas fa-user"></i> Iniciar Sesión
        </a>
        <div class="dropdown-menu" id="user-dropdown" style="display: none;">
            <button class="dropdown-toggle" id="dropdown-toggle">
                <i class="fas fa-user-circle"></i>
            </button>
            <div class="dropdown-content" id="dropdown-content">
                <a href="/" class="dropdown-item">
                    <i class="fas fa-home"></i> Inicio
                </a>
                <a href="#productos" class="dropdown-item">
                    <i class="fas fa-motorcycle"></i> Productos
                </a>
                <a href="/cart" class="dropdown-item">
                    <i class="fas fa-shopping-cart"></i> Mi Carrito
                </a>
                <a href="/my-purchases" class="dropdown-item">
                    <i class="fas fa-history"></i> Mis Compras
                </a>
                <a href="/profile" class="dropdown-item">
                    <i class="fas fa-user"></i> Mi Usuario
                </a>
                <a href="/" class="dropdown-item" id="logout-link">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                </a>
            </div>
        </div>
        <a href="/admin/dashboard" id="admin-link" class="nav-link admin-link" style="display: none;">
            <i class="fas fa-cog"></i> Panel Admin
        </a>
        </nav>
        <div class="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
        </div>
    </header>

    <main class="payment-confirmation-page">
        <div class="payment-container">
            <div class="payment-header">
                <h1><i class="fas fa-check-circle"></i> Confirmación de Compra</h1>
                <p>Fecha y Hora: <span id="current-datetime"></span></p>
            </div>

            <div class="payment-content">
                <!-- Order Summary Section -->
                <div class="order-summary-section">
                    <h3><i class="fas fa-shopping-bag"></i> Productos Seleccionados</h3>
                    <div id="selected-products" class="selected-products">
                        <!-- Products will be loaded here -->
                    </div>
                </div>

                <!-- Buyer Data Section -->
                <div class="buyer-data-section">
                    <h3><i class="fas fa-user"></i> Datos del Comprador</h3>
                    <div class="buyer-info">
                        <div class="info-row">
                            <span class="label">Quién Recibe:</span>
                            <span id="user-name" class="value"></span>
                        </div>
                        <div class="info-row">
                            <span class="label">Número de Teléfono:</span>
                            <span id="user-phone" class="value"></span>
                        </div>
                        <div class="info-row">
                            <span class="label">Cédula/ID:</span>
                            <span id="user-cedula" class="value"></span>
                        </div>
                    </div>
                </div>

                <!-- Payment Form Section -->
                <div class="payment-form-section">
                    <h3><i class="fas fa-university"></i> Pago por Transferencia Bancaria</h3>
                    <form id="payment-form" class="payment-form">
                        <div class="form-section">
                            <div class="bank-recipient-info">
                                <h4><i class="fas fa-money-check-alt"></i> Transferir a:</h4>
                                <div class="recipient-details">
                                    <p><i class="fas fa-university"></i> <strong>Banco Mercantil</strong> - 0105</p>
                                    <p><i class="fas fa-phone"></i> <strong>Teléfono</strong> - 04249647080</p>
                                    <p><i class="fas fa-id-card"></i> <strong>Cédula de identidad</strong> - 18995161
                                    </p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="payment-bank">Banco Emisor *</label>
                                <select id="payment-bank" name="payment-bank" required>
                                    <option value="">Seleccione un banco</option>
                                    <option value="0102">0102 - BANCO DE VENEZUELA</option>
                                    <option value="0156">0156 - 100% BANCO</option>
                                    <option value="0172">0172 - BANCAMIGA BANCO UNIVERSAL, C.A.</option>
                                    <option value="0114">0114 - BANCARIBE</option>
                                    <option value="0171">0171 - BANCO ACTIVO</option>
                                    <option value="0128">0128 - BANCO CARONÍ</option>
                                    <option value="0163">0163 - BANCO DEL TESORO</option>
                                    <option value="0175">0175 - BANCO DIGITAL DE LOS TRABAJADORES, BANCO UNIVERSAL
                                    </option>
                                    <option value="0115">0115 - BANCO EXTERIOR</option>
                                    <option value="0151">0151 - BANCO FONDO COMÚN</option>
                                    <option value="0105">0105 - BANCO MERCANTIL</option>
                                    <option value="0191">0191 - BANCO NACIONAL DE CREDITO</option>
                                    <option value="0138">0138 - BANCO PLAZA</option>
                                    <option value="0137">0137 - BANCO SOFITASA</option>
                                    <option value="0104">0104 - BANCO VENEZOLANO DE CREDITO</option>
                                    <option value="0168">0168 - BANCRECER</option>
                                    <option value="0134">0134 - BANESCO</option>
                                    <option value="0177">0177 - BANFANB</option>
                                    <option value="0146">0146 - BANGENTE</option>
                                    <option value="0174">0174 - BANPLUS</option>
                                    <option value="0108">0108 - BBVA PROVINCIAL</option>
                                    <option value="0157">0157 - DELSUR BANCO UNIVERSAL</option>
                                    <option value="0601">0601 - INSTITUTO MUNICIPAL DE CREDITO POPULAR</option>
                                    <option value="0178">0178 - N58 BANCO DIGITAL BANCO MICROFINANCIERO S.A.</option>
                                    <option value="0169">0169 - R4 BANCO MICROFINANCIERO C.A.</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="payment-reference">Código de Referencia *</label>
                                <input type="text" id="payment-reference" name="payment-reference" required
                                    placeholder="Ej: 123456789012" maxlength="12" pattern="\d{12}">
                            </div>
                            <div class="form-group">
                                <label for="proof-of-payment">Comprobante de Pago *</label>
                                <input type="file" id="proof-of-payment" name="proof-of-payment"
                                    accept=".jpg, .jpeg, .png" required>
                                <small class="form-hint">Suba una imagen clara del comprobante de transferencia (.jpg,
                                    .jpeg, .png)</small>
                            </div>
                        </div>

                        <div class="payment-instructions">
                            <h4>Instrucciones de Pago:</h4>
                            <ul>
                                <li>Realice la transferencia a la cuenta bancaria proporcionada</li>
                                <li>Use el código de referencia generado</li>
                                <li>Suba el comprobante de pago para completar la transacción</li>
                                <li>Su pedido será procesado una vez verificado el pago</li>
                            </ul>
                        </div>

                        <button type="submit" class="payment-submit-btn" id="payment-submit-btn">
                            <i class="fas fa-paper-plane"></i> Registrar Pago
                        </button>
                        <div id="payment-message"></div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer class="client-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Contacto</h4>
                <div class="contact-info">
                    <p><i class="fas fa-phone"></i> +58 426-4603994</p>
                    <p><i class="fas fa-map-marker-alt"></i> Monagas, Venezuela</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Inversiones Moto Suárez. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <button class="theme-selector" id="theme-selector" aria-label="Cambiar tema">
        <i class="fas fa-sun"></i>
    </button>

    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/payment.js') }}"></script>
</body>

</html>